define(function(require){require("/static/lib/layer/1.6.0/layer.min.js"),require("/static/lib/layer/1.6.0/skin/layer.css");var a=0;$(".learn-btn").delegate(".js-follow-action","click",function(){function c(){require.async("login_sns",function(a){a.init()})}if(!OP_CONFIG.userInfo)return void c();if(!a){a=1;{var y=$(this),C=y.data("cid");y.data("cmd")}$.ajax({type:"POST",url:"/u/"+OP_CONFIG.userInfo.uid+"/course/"+C,dataType:"json",success:function(a){0==a.result?"cancle"==y.data("cmd")?(y.removeClass("icon-star2").addClass("icon-star_outline").data("cmd","follow").attr("title","收藏"),$.tipAlert($(".learn-btn").find(".follow-action"),{info:"取消收藏成功"})):(y.removeClass("icon-star_outline").addClass("icon-star2").data("cmd","cancle").attr("title","取消收藏"),$.tipAlert($(".learn-btn").find(".follow-action"),{info:"收藏成功"})):layer.msg("操作失败，请稍后再试",1,1)},error:function(){layer.msg("网络错误，请稍后再试",1,1)},complete:function(){a=0}})}})});