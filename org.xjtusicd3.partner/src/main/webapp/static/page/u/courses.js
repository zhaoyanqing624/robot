define(function(require,exports,module){with(require("common"),require("./u_common.js"),$(".js-course-list").on("click",".follow",function(e){if(e.preventDefault(),!isLogin)return void $("#js-signin-btn").click();var a=$(this),c=(a.attr("data-ques-id"),a.find(".icon-star_outline").length),h=a.closest(".course-one"),j=h.data("courseid"),v=h.data("uid");$.ajax({url:"/u/"+v+"/course/"+j,type:"post",dataType:"json",data:"",success:function(h){0==h.result&&(0==c?(a.find("i").attr("class","icon-star_outline"),a.attr("title","收藏")):(a.find("i").attr("class","icon-star2"),a.attr("title","取消收藏")),location.reload())}})}).on("click",".del",function(e){if(e.preventDefault(),!isLogin)return void $("#js-signin-btn").click();var a=$(this),c=a.closest(".tl-item"),h=a.closest(".course-list").find("li").length,j=a.closest(".course-one"),v=j.data("courseid"),g=j.data("uid");$.ajax({url:"/u/"+g+"/course/"+v,type:"DELETE",dataType:"json",data:"",success:function(a){0==a.result&&(1==h?c.remove():j.remove(),$(".js-course-list").find(".tl-item").length>0?location.reload():window.location.href=$("#js-columbd").find("a").eq(0).attr("href"))}})}),$("#js-columall").on("click",function(e){e.stopPropagation();var a=$(this).find(".icon"),c=$(this).siblings("#js-columbd");a.hasClass("icon-drop_down")?(c.show(),a.removeClass("icon-drop_down").addClass("icon-drop_up")):(c.hide(),a.removeClass("icon-drop_up").addClass("icon-drop_down"))}),$(document).mouseup(function(e){var a=$("#js-columbd");a.is(e.target)||0!=a.has(e.target).length||($("#js-columbd").hide(),$("#js-columall").find(".icon").removeClass("icon-drop_up").addClass("icon-drop_down"))}),$(".js-course-list .share-box .show-btn,.js-course-list .share-box .share-box-con").on("mouseenter",function(){var a=$(this),c=a.parent();c.hasClass("hover")||c.addClass("hover")}).on("mouseleave",function(e){e.stopPropagation();var a=$(this),c=a.parent();c.hasClass("hover")&&c.removeClass("hover")}),document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)];var shareEles=$(".bdsharebuttonbox a"),ajaxing=0;shareEles.on("click",function(e){if(!ajaxing){var a=$(this).parents(".bdsharebuttonbox").attr("data-id");ajaxing=1,$.ajax({type:"post",url:"/course/courseshare",data:"id="+a+"&type=1",success:function(a){console.log(a),ajaxing=0},error:function(){layer.msg("网络错误，请稍后再试",1,1)},complete:function(){ajaxing=0}}),e.preventDefault()}})});